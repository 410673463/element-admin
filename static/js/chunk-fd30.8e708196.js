(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fd30"],{"0/aA":function(e,t,a){"use strict";a.d(t,"f",function(){return n}),a.d(t,"g",function(){return o}),a.d(t,"h",function(){return i}),a.d(t,"a",function(){return s}),a.d(t,"d",function(){return u}),a.d(t,"b",function(){return c}),a.d(t,"e",function(){return d}),a.d(t,"c",function(){return p});var r=a("t3Un"),l="/system/dept/";function n(e){return Object(r.a)({url:l+"query-all",method:"post",data:e})}function o(e){return Object(r.a)({url:l+"query-all-tree",method:"get",params:{id:e}})}function i(e){return Object(r.a)({url:l+"query-by-id",method:"get",params:{id:e}})}function s(e){return Object(r.a)({url:l+"add",method:"post",data:e})}function u(e){return Object(r.a)({url:l+"edit",method:"post",data:e})}function c(e){return Object(r.a)({url:l+"del",method:"get",params:{id:e}})}function d(e){return Object(r.a)({url:l+"all-users",method:"get",params:{id:e}})}function p(e){return Object(r.a)({url:l+"del-user",method:"post",data:e})}},"6VKh":function(e,t,a){"use strict";var r=a("jLiT");a.n(r).a},BtSF:function(e,t,a){"use strict";a.d(t,"o",function(){return n}),a.d(t,"p",function(){return o}),a.d(t,"e",function(){return i}),a.d(t,"q",function(){return s}),a.d(t,"a",function(){return u}),a.d(t,"j",function(){return c}),a.d(t,"k",function(){return d}),a.d(t,"f",function(){return p}),a.d(t,"n",function(){return m}),a.d(t,"d",function(){return f}),a.d(t,"i",function(){return h}),a.d(t,"l",function(){return b}),a.d(t,"b",function(){return v}),a.d(t,"g",function(){return g}),a.d(t,"m",function(){return _}),a.d(t,"c",function(){return y}),a.d(t,"h",function(){return w});var r=a("t3Un"),l="/system/user/";function n(e){return Object(r.a)({url:l+"query-page",method:"post",data:e})}function o(e){return Object(r.a)({url:l+"query-by-id",method:"get",params:{id:e}})}function i(e){return Object(r.a)({url:l+"check-login-name",method:"post",data:e})}var s=l+"upload-avatar";function u(e){return Object(r.a)({url:l+"add",method:"post",data:e})}function c(e){return Object(r.a)({url:l+"edit",method:"post",data:e})}function d(e){return Object(r.a)({url:l+"edit-password",method:"post",data:e})}function p(e){return Object(r.a)({url:l+"del",method:"get",params:{id:e}})}function m(e){return Object(r.a)({url:l+"all-roles",method:"get",params:e})}function f(e){return Object(r.a)({url:l+"add-role",method:"post",data:e})}function h(e){return Object(r.a)({url:l+"del-role",method:"post",data:e})}function b(e){return Object(r.a)({url:l+"all-depts",method:"get",params:e})}function v(e){return Object(r.a)({url:l+"add-dept",method:"post",data:e})}function g(e){return Object(r.a)({url:l+"del-dept",method:"post",data:e})}function _(e){return Object(r.a)({url:l+"all-groups",method:"get",params:e})}function y(e){return Object(r.a)({url:l+"add-group",method:"post",data:e})}function w(e){return Object(r.a)({url:l+"del-group",method:"post",data:e})}},"D+ZV":function(e,t,a){},KWzf:function(e,t,a){"use strict";var r=a("Rmns");a.n(r).a},O8xk:function(e,t,a){},Rmns:function(e,t,a){},aJyW:function(e,t,a){"use strict";a.r(t);var r=a("OLzz"),l=a.n(r),n=a("7Qib"),o=a("kWGr"),i=a("BtSF"),s=a("vgRt"),u={mixins:[o.a,s.a],data:function(){return{queryCriteria:this.initQueryCriteria(),selected:null,selectedUsers:[]}},activated:function(){this.selected=null},methods:{initQueryCriteria:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.b)(e,{id:"",flag:"",gender:"",name:"",email:"",loginName:""})},executeQueryPage:function(){var e=this;i.o(this.createQueryParams()).then(function(t){e.queryResultHandler(t)})},customDelHandler:function(){var e=this;i.f(this.selected.id).then(function(){e.queryHandler()})},clickCheckboxHandler:function(e){this.selectedUsers=e}}},c=(a("6VKh"),a("ZrdR")),d=Object(c.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-card",[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{model:e.queryCriteria,"label-width":"150px"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"启用状态:",prop:"flag"}},[a("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:e.queryCriteria.flag,callback:function(t){e.$set(e.queryCriteria,"flag",t)},expression:"queryCriteria.flag"}},e._l(e.dictionaries.flag,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"登录ID:",prop:"loginName"}},[a("el-input",{attrs:{placeholder:"请输入登录ID"},model:{value:e.queryCriteria.loginName,callback:function(t){e.$set(e.queryCriteria,"loginName",t)},expression:"queryCriteria.loginName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.queryCriteria.name,callback:function(t){e.$set(e.queryCriteria,"name",t)},expression:"queryCriteria.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别:",prop:"gender"}},[a("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:e.queryCriteria.gender,callback:function(t){e.$set(e.queryCriteria,"gender",t)},expression:"queryCriteria.gender"}},e._l(e.dictionaries.gender,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.queryCriteria.email,callback:function(t){e.$set(e.queryCriteria,"email",t)},expression:"queryCriteria.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"ID:",prop:"id"}},[a("el-input",{attrs:{placeholder:"请输入ID"},model:{value:e.queryCriteria.id,callback:function(t){e.$set(e.queryCriteria,"id",t)},expression:"queryCriteria.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("flex-center",[a("el-button",{attrs:{round:"",type:"info"},on:{click:e.resetHandler}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{round:"",type:"primary"},on:{click:e.queryHandler}},[e._v("查询")])],1)],1)],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{margin:"10px 0px"},attrs:{span:24}},[a("button-right",[e._v("\n      用户列表\n      "),a("template",{slot:"button"},[a("el-button-group",[e.selected?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("option-changed","check",e.selected)}}},[e._v("查看")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("option-changed","add")}}},[e._v("新增")]),e._v(" "),e.selected?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("option-changed","edit",e.selected)}}},[e._v("编辑")]):e._e(),e._v(" "),e.selected?a("el-button",{attrs:{type:"primary"},on:{click:e.delHandler}},[e._v("删除")]):e._e(),e._v(" "),e.selectedUsers.length>0?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("option-changed","batchEdit",e.selectedUsers)}}},[e._v("批量编辑")]):e._e()],1)],1)],2)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-table",{attrs:{data:e.pagination.list,"highlight-current-row":"",stripe:"",border:""},on:{"current-change":function(t){e.selected=t},"row-dblclick":function(t){e.$emit("option-changed","check",e.selected)},"sort-change":e.sortChangeHandler,"selection-change":e.clickCheckboxHandler}},[a("el-table-column",{attrs:{type:"selection",label:"全选"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"loginName",label:"登录ID",sortable:"custom",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"name",label:"姓名",sortable:"custom",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"100",sortable:"custom",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("translateGender")(t.row.gender)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"email",label:"邮箱",sortable:"custom",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"phone",label:"电话",width:"160",sortable:"custom",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间",width:"180",sortable:"custom",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.createdDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"启用状态",width:"100",sortable:"custom",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("state",{attrs:{state:e.row.state}})]}}])})],1),e._v(" "),a("pagination",{attrs:{pagination:e.pagination},on:{"page-size-changed":e.pageSizeChangeHandler,"page-changed":e.pageChangeHandler}})],1)],1)},[],!1,null,"1569a130",null);d.options.__file="query.vue";var p=d.exports,m=a("v/Sq"),f=a("0/aA"),h=a("fbnQ"),b=a("sr6h"),v={mixins:[m.a,s.a],props:{detail:{required:!1,type:Object,default:function(){}}},data:function(){var e=this,t=this.initForm();delete t.password;var a=this.initRules();delete a.password,a.id=[{required:!0,message:"编辑信息时ID不能为空",trigger:"change"}];return{form:t,rules:a,depts:[],groups:[],roles:[],addOption:{allDepts:[],allGroups:[],allRoles:[],deptId:null,roleId:null,groupId:null},password:{value:"",validator:""},passwordRules:{value:[{required:!0,message:"请输入密码！",trigger:"change"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"change"}],validator:[{required:!0,message:"请再次输入密码！",trigger:"change"},{validator:function(t,a,r){""===a?r(new Error("请再次输入密码")):a!==e.password.value?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]}}},activated:function(){var e=this;i.p(this.detail.id).then(function(t){Object(n.c)(e.form,t),e.$nextTick(function(){e.$refs.form.clearValidate()})}),this.queryAllUserDepts(),this.queryAllUserGroups(),this.queryAllUserRoles();var t={filters:[],sorts:[]};f.f(t).then(function(t){e.addOption.allDepts=t}),b.f(t).then(function(t){e.addOption.allGroups=t}),h.g(t).then(function(t){e.addOption.allRoles=t})},methods:{customSubmitHandler:function(){i.j(this.form).then(this.submitSuccessHandler)},editUserPassword:function(){i.k({id:this.form.id,password:this.password.value}).then(this.submitSuccessHandler)},customSubmitSuccessHandler:function(){this.$refs.form.clearValidate(),this.$refs.password.clearValidate()},addUserDeptHandler:function(e){var t=this;if(e){var a=[{userId:this.detail.id,deptId:e}];i.b(a).then(function(e){t.queryAllUserDepts(),t.optionSuccessHandler(),t.addOption.deptId=null})}},delUserDeptHandler:function(e){var t=this,a={userId:this.detail.id,deptId:e};i.g(a).then(function(e){t.queryAllUserDepts(),t.optionSuccessHandler()})},addUserGroupHandler:function(e){var t=this;if(e){var a=[{userId:this.detail.id,groupId:e}];i.c(a).then(function(e){t.queryAllUserGroups(),t.optionSuccessHandler(),t.addOption.groupId=null})}},delUserGroupHandler:function(e){var t=this,a={userId:this.detail.id,groupId:e};i.h(a).then(function(e){t.queryAllUserGroups(),t.optionSuccessHandler()})},addUserRoleHandler:function(e){var t=this;if(e){var a=[{userId:this.detail.id,roleId:e}];i.d(a).then(function(e){t.queryAllUserRoles(),t.optionSuccessHandler(),t.addOption.roleId=null})}},delUserRoleHandler:function(e){var t=this,a={userId:this.detail.id,roleId:e};i.i(a).then(function(e){t.queryAllUserRoles(),t.optionSuccessHandler()})}}},g=(a("fFM3"),Object(c.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{icon:"el-icon-back",round:""},on:{click:e.backHandler}},[e._v("返回")]),e._v(" "),a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("button-right",[e._v("\n        用户信息\n        "),a("template",{slot:"button"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitHandler("form")}}},[e._v("保存")])],1)],2)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"ID",prop:"id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否启用",prop:"state"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户编号",prop:"index"}},[a("el-input",{model:{value:e.form.index,callback:function(t){e.$set(e.form,"index",t)},expression:"form.index"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录ID",prop:"loginName"}},[a("el-input",{model:{value:e.form.loginName,callback:function(t){e.$set(e.form,"loginName",t)},expression:"form.loginName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"照片",prop:"avatar"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.uploadAvatarHeaders,"show-file-list":!1,"on-success":e.uploadAvatarSuccess,"on-error":e.uploadAvatarError,action:e.uploadAvatar}},[e.form.avatar?a("img",{staticClass:"avatar",attrs:{src:e.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"昵称",prop:"nickName"}},[a("el-input",{model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},e._l(e.dictionaries.gender,function(t){return a("el-radio",{key:t.key,attrs:{label:t.key},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[e._v(e._s(t.value))])})),e._v(" "),a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("el-date-picker",{attrs:{"picker-options":function(e){return e.getTime()>Date.now()},align:"right",type:"date"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"证件号码",prop:"idNumber"}},[a("el-input",{model:{value:e.form.idNumber,callback:function(t){e.$set(e.form,"idNumber",t)},expression:"form.idNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"住址",prop:"address"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签",prop:"tag",placeholder:"支持英文逗号隔开"}},[a("el-input",{model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"用户备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1)],1),e._v(" "),a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("button-right",[e._v("\n        密码修改\n        "),a("template",{slot:"button"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitHandler("password",e.editUserPassword)}}},[e._v("保存")])],1)],2)],1),e._v(" "),a("el-form",{ref:"password",attrs:{model:e.password,rules:e.passwordRules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新密码",prop:"value"}},[a("el-input",{attrs:{type:"password"},model:{value:e.password.value,callback:function(t){e.$set(e.password,"value",t)},expression:"password.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"再次填写密码",prop:"validator"}},[a("el-input",{attrs:{type:"password"},model:{value:e.password.validator,callback:function(t){e.$set(e.password,"validator",t)},expression:"password.validator"}})],1)],1)],1)],1)],1),e._v(" "),a("el-card",[a("template",{slot:"header"},[a("select-right",[a("template",{slot:"left"},[e._v("分组信息")]),e._v(" "),a("el-select",{attrs:{placeholder:"添加分组",clearable:"",filterable:""},on:{change:e.addUserGroupHandler},model:{value:e.addOption.groupId,callback:function(t){e.$set(e.addOption,"groupId",t)},expression:"addOption.groupId"}},e._l(e.addOption.allGroups,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],2)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.groups,border:""}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.createdDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedDate",label:"最后修改时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.modifiedDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning"},on:{click:function(a){e.delUserGroupHandler(t.row.id)}}},[e._v("删除")])]}}])})],1)],2),e._v(" "),a("el-card",[a("template",{slot:"header"},[a("select-right",[a("template",{slot:"left"},[e._v("部门信息")]),e._v(" "),a("el-select",{attrs:{placeholder:"添加部门",clearable:"",filterable:""},on:{change:e.addUserDeptHandler},model:{value:e.addOption.deptId,callback:function(t){e.$set(e.addOption,"deptId",t)},expression:"addOption.deptId"}},e._l(e.addOption.allDepts,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],2)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.depts,border:""}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.createdDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedDate",label:"最后修改时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.modifiedDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning"},on:{click:function(a){e.delUserDeptHandler(t.row.id)}}},[e._v("删除")])]}}])})],1)],2),e._v(" "),a("el-card",[a("template",{slot:"header"},[a("select-right",[a("template",{slot:"left"},[e._v("角色信息")]),e._v(" "),a("el-select",{attrs:{placeholder:"添加角色",clearable:"",filterable:""},on:{change:e.addUserRoleHandler},model:{value:e.addOption.roleId,callback:function(t){e.$set(e.addOption,"roleId",t)},expression:"addOption.roleId"}},e._l(e.addOption.allRoles,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],2)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roles,border:""}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.createdDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedDate",label:"最后修改时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.modifiedDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning"},on:{click:function(a){e.delUserRoleHandler(t.row.id)}}},[e._v("删除")])]}}])})],1)],2)],1)},[],!1,null,"75f3feed",null));g.options.__file="edit.vue";var _=g.exports,y={mixins:[m.a,s.a],props:{detail:{required:!1,type:Object,default:function(){}}},data:function(){return{form:this.initForm(),rules:this.initRules()}},activated:function(){var e=this;Object(n.c)(this.form,this.initForm()),this.$nextTick(function(){e.$refs.form.clearValidate()})},methods:{customSubmitHandler:function(){var e=this;i.a(this.form).then(function(t){e.submitSuccessHandler(t)})},customSubmitSuccessHandler:function(e){this.$emit("option-changed","edit",e)}}},w=(a("ciT6"),Object(c.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否启用",prop:"state"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户编号",prop:"index"}},[a("el-input",{model:{value:e.form.index,callback:function(t){e.$set(e.form,"index",t)},expression:"form.index"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录ID",prop:"loginName"}},[a("el-input",{model:{value:e.form.loginName,callback:function(t){e.$set(e.form,"loginName",t)},expression:"form.loginName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"照片",prop:"avatar"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.uploadAvatarHeaders,"show-file-list":!1,"with-credentials":!0,"on-success":e.uploadAvatarSuccess,"on-error":e.uploadAvatarError,action:e.uploadAvatar}},[e.form.avatar?a("img",{staticClass:"avatar",attrs:{src:e.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称",prop:"nickName"}},[a("el-input",{model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},e._l(e.dictionaries.gender,function(t){return a("el-radio",{key:t.key,attrs:{label:t.key},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[e._v(e._s(t.value))])})),e._v(" "),a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("el-date-picker",{attrs:{"picker-options":function(e){return e.getTime()>Date.now()},align:"right",type:"date"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"证件号码",prop:"idNumber"}},[a("el-input",{model:{value:e.form.idNumber,callback:function(t){e.$set(e.form,"idNumber",t)},expression:"form.idNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"住址",prop:"address"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签",prop:"tag",placeholder:"支持英文逗号隔开"}},[a("el-input",{model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"用户备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitHandler("form")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.backHandler}},[e._v("取消")])],1)],1)],1)],1)},[],!1,null,"6adf42fe",null));w.options.__file="add.vue";var k=w.exports,x={mixins:[s.a],props:{detail:{required:!0,type:Object,default:function(){}}},data:function(){return{labelWidth:"150px",depts:[],groups:[],roles:[]}},activated:function(){this.queryAllUserDepts(),this.queryAllUserGroups(),this.queryAllUserRoles()}},O=(a("KWzf"),Object(c.a)(x,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{icon:"el-icon-back",round:""},on:{click:function(t){e.$emit("option-changed")}}},[e._v("返回")]),e._v(" "),a("el-collapse",{attrs:{value:"base-info",accordion:""}},[a("el-collapse-item",{attrs:{title:"基本信息",name:"base-info"}},[a("el-form",{attrs:{model:e.detail,"label-width":e.labelWidth}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"ID"}},[e._v(e._s(e.detail.id))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"启用状态"}},[e._v(e._s(e._f("translateState")(e.detail.state)))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"用户编号"}},[e._v(e._s(e.detail.index))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"登录ID"}},[e._v(e._s(e.detail.loginName))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"用户姓名"}},[e._v(e._s(e.detail.name))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"肖像"}},[a("img",{staticClass:"photo",attrs:{src:e.detail.avatar?e.detail.avatar:"http://element.eleme.io/static/hamburger.50e4091.png"}})])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"昵称"}},[e._v(e._s(e.detail.nickName))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"证件号码"}},[e._v(e._s(e.detail.idNumber))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"性别"}},[e._v(e._s(e._f("translateGender")(e.detail.gender)))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"生日"}},[e._v(e._s(e.detail.birthday))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"电话"}},[e._v(e._s(e.detail.phone))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"邮箱"}},[e._v(e._s(e.detail.email))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"住址"}},[e._v(e._s(e.detail.address))]),e._v(" "),a("input-item-view",{attrs:{"label-width":e.labelWidth,label:"标签"}},[e._v(e._s(e.detail.tag))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("text-item-view",{attrs:{"label-width":e.labelWidth,label:"用户备注"}},[e._v(e._s(e.detail.remark))])],1)],1)],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"审计信息",name:"audit-info"}},[a("audit-info",{attrs:{detail:e.detail,"label-width":e.labelWidth}})],1),e._v(" "),a("el-collapse-item",{attrs:{title:"用户分组",name:"user-group"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.groups,border:""}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.createdDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedDate",label:"最后修改时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.modifiedDate)))]}}])})],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"用户部门",name:"user-dept"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.depts,border:""}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.createdDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedDate",label:"最后修改时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.modifiedDate)))]}}])})],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"用户角色",name:"user-role"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roles,border:""}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.createdDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedDate",label:"最后修改时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.modifiedDate)))]}}])})],1)],1)],1)],1)},[],!1,null,"f54a6c98",null));O.options.__file="check.vue";var $=O.exports,H={mixins:[s.a],props:{detail:{required:!0,type:Array,default:function(){return[]}}},data:function(){return{filter:null,roles:[],selectedRoles:[],depts:[],defaultProps:{children:"children",label:"name"},groups:[],selectedGroups:[]}},watch:{filter:function(e){this.$refs.tree.filter(e)}},activated:function(){var e=this,t={filters:[],sorts:[]};h.g(t).then(function(t){e.roles=t}),f.g({}).then(function(t){e.depts=t}),b.f(t).then(function(t){e.groups=t})},methods:{clickRoleCheckboxHandler:function(e){this.selectedRoles=e},clickGroupCheckboxHandler:function(e){this.selectedGroups=e},submitUserRoleHandler:function(){var e=this;0!==this.selectedRoles.length?this.$confirm("此操作将批量授权, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"已授权成功"});var t=[];e.detail.forEach(function(a){e.selectedRoles.forEach(function(e){t.push({userId:a.id,roleId:e.id})})}),i.d(t)}).catch(function(){e.$message({type:"warning",message:"已取消授权"})}):this.$message({type:"error",message:"您未勾选任何角色"})},submitUserDeptHandler:function(){var e=this,t=this.$refs.tree.getCheckedNodes();0!==t.length?this.$confirm("此操作将批量授权, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"已授权成功"});var a=[];e.detail.forEach(function(e){t.forEach(function(t){a.push({userId:e.id,deptId:t.id})})}),i.b(a)}).catch(function(){e.$message({type:"warning",message:"已取消授权"})}):this.$message({type:"error",message:"您未勾选任何部门"})},filterNodeHandler:function(e,t){return!e||-1!==t.name.indexOf(e)},submitUserGroupHandler:function(){var e=this;0!==this.selectedGroups.length?this.$confirm("此操作将批量授权, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"已授权成功"});var t=[];e.detail.forEach(function(a){e.selectedGroups.forEach(function(e){t.push({userId:a.id,groupId:e.id})})}),i.c(t)}).catch(function(){e.$message({type:"warning",message:"已取消授权"})}):this.$message({type:"error",message:"您未勾选任何用户分组"})}}},q=(a("ffNZ"),Object(c.a)(H,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{icon:"el-icon-back",round:""},on:{click:function(t){e.$emit("option-changed","query")}}},[e._v("返回")]),e._v(" "),a("el-card",[a("template",{slot:"header"},[a("button-right",[e._v("\n        角色信息\n        "),a("template",{slot:"button"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitUserRoleHandler()}}},[e._v("保存")])],1)],2)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roles,border:""},on:{"selection-change":e.clickRoleCheckboxHandler}},[a("el-table-column",{attrs:{type:"selection",label:"全选"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.createdDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedDate",label:"最后修改时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.modifiedDate)))]}}])})],1)],2),e._v(" "),a("el-card",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-card",[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)],1)],1),e._v(" "),a("template",{slot:"header"},[a("button-right",[e._v("\n        部门信息\n        "),a("template",{slot:"button"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitUserDeptHandler()}}},[e._v("保存")])],1)],2)],1),e._v(" "),a("el-tree",{attrs:{data:[{}],props:e.defaultProps},scopedSlots:e._u([{key:"default",fn:function(t){return t.data,a("div",{staticClass:"custom-tree-node"},[a("div",{staticClass:"name"},[e._v("名称")]),e._v(" "),a("div",{staticClass:"time"},[e._v("最后修改时间")]),e._v(" "),a("div",{staticClass:"time"},[e._v("创建时间")])])}}])}),e._v(" "),a("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.depts,props:e.defaultProps,"filter-node-method":e.filterNodeHandler,"highlight-current":"",accordion:"","show-checkbox":""},on:{"current-change":function(t,a){return e.selected=t}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;return a("div",{staticClass:"custom-tree-node"},[a("div",{staticClass:"name"},[e._v(e._s(r.name))]),e._v(" "),a("div",{staticClass:"time"},[e._v(e._s(e._f("parseTime")(r.modifiedDate)))]),e._v(" "),a("div",{staticClass:"time"},[e._v(e._s(e._f("parseTime")(r.createdDate)))])])}}])})],2),e._v(" "),a("el-card",[a("template",{slot:"header"},[a("button-right",[e._v("\n        用户分组信息\n        "),a("template",{slot:"button"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitUserGroupHandler()}}},[e._v("保存")])],1)],2)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.groups,border:""},on:{"selection-change":e.clickGroupCheckboxHandler}},[a("el-table-column",{attrs:{type:"selection",label:"全选"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.createdDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedDate",label:"最后修改时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.modifiedDate)))]}}])})],1)],2)],1)},[],!1,null,"b3796b60",null));q.options.__file="batchEdit.vue";var S={components:{query:p,edit:_,add:k,check:$,batchEdit:q.exports},data:function(){return{optionType:"query",detail:{}}},methods:{optionChangeHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"query",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.a.start(),this.detail=t,this.optionType=e,l.a.done()}}},D=Object(c.a)(S,function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[t("keep-alive",[t(this.optionType,{tag:"component",attrs:{detail:this.detail},on:{"option-changed":this.optionChangeHandler}})],1)],1)},[],!1,null,null,null);D.options.__file="main.vue";t.default=D.exports},ciT6:function(e,t,a){"use strict";var r=a("v8RJ");a.n(r).a},fFM3:function(e,t,a){"use strict";var r=a("D+ZV");a.n(r).a},fbnQ:function(e,t,a){"use strict";a.d(t,"h",function(){return n}),a.d(t,"g",function(){return o}),a.d(t,"i",function(){return i}),a.d(t,"a",function(){return s}),a.d(t,"d",function(){return u}),a.d(t,"b",function(){return c}),a.d(t,"e",function(){return d}),a.d(t,"j",function(){return p}),a.d(t,"f",function(){return m}),a.d(t,"c",function(){return f});var r=a("t3Un"),l="/system/role/";function n(e){return Object(r.a)({url:l+"query-page",method:"post",data:e})}function o(e){return Object(r.a)({url:l+"query-all",method:"post",data:e})}function i(e){return Object(r.a)({url:l+"query-by-id",method:"get",params:{id:e}})}function s(e){return Object(r.a)({url:l+"add",method:"post",data:e})}function u(e){return Object(r.a)({url:l+"edit",method:"post",data:e})}function c(e){return Object(r.a)({url:l+"del",method:"get",params:{id:e}})}function d(e){return Object(r.a)({url:l+"all-menus",method:"get",params:{id:e}})}function p(e){return Object(r.a)({url:l+"reset-menus",method:"post",data:e})}function m(e){return Object(r.a)({url:l+"all-users",method:"get",params:{id:e}})}function f(e){return Object(r.a)({url:l+"del-user",method:"post",data:e})}},ffNZ:function(e,t,a){"use strict";var r=a("O8xk");a.n(r).a},jLiT:function(e,t,a){},kWGr:function(e,t,a){"use strict";var r=a("Q2cO"),l=a.n(r),n=a("EPZ6"),o=a.n(n),i=a("7Qib");t.a={data:function(){return{pagination:this.initPagination()}},activated:function(){this.executeQueryPage()},methods:{initPagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.b)(e,{total:0,pageSize:10,page:1,list:[],filters:[],sorts:[]})},resetHandler:function(){this.initQueryCriteria(this.queryCriteria),this.initPagination(this.pagination),this.executeQueryPage()},queryHandler:function(){this.initPagination(this.pagination),this.executeQueryPage()},createQueryParams:function(){var e=this;return this.pagination.filters=[],o()(this.queryCriteria).forEach(function(t){var a=e.queryCriteria[t];a&&("object"===(void 0===a?"undefined":l()(a))?e.pagination.filters.push({field:t,value:Object(i.a)(a)}):e.pagination.filters.push({field:t,value:a}))}),{page:this.pagination.page,pageSize:this.pagination.pageSize,filters:this.pagination.filters,sorts:this.pagination.sorts}},queryResultHandler:function(e){return Object(i.b)(this.pagination,e)},pageSizeChangeHandler:function(e){this.pagination.pageSize=e,this.pagination.page=1,this.executeQueryPage()},pageChangeHandler:function(e){this.pagination.page=e,this.executeQueryPage()},sortChangeHandler:function(e){var t=e.column,a=e.prop,r=e.order;this.pagination.sorts=[],t&&this.pagination.sorts.push({field:a,value:"descending"===r?"desc":"asc"}),this.pagination.page=1,this.executeQueryPage()},delHandler:function(){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.customDelHandler?e.customDelHandler():e.$message({type:"info",message:"您未定义删除逻辑处理方法customDelHandler"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}}},sr6h:function(e,t,a){"use strict";a.d(t,"h",function(){return n}),a.d(t,"f",function(){return o}),a.d(t,"g",function(){return i}),a.d(t,"a",function(){return s}),a.d(t,"d",function(){return u}),a.d(t,"b",function(){return c}),a.d(t,"e",function(){return d}),a.d(t,"c",function(){return p});var r=a("t3Un"),l="/system/group/";function n(e){return Object(r.a)({url:l+"query-page",method:"post",data:e})}function o(e){return Object(r.a)({url:l+"query-all",method:"post",data:e})}function i(e){return Object(r.a)({url:l+"query-by-id",method:"get",params:{id:e}})}function s(e){return Object(r.a)({url:l+"add",method:"post",data:e})}function u(e){return Object(r.a)({url:l+"edit",method:"post",data:e})}function c(e){return Object(r.a)({url:l+"del",method:"get",params:{id:e}})}function d(e){return Object(r.a)({url:l+"all-users",method:"get",params:{id:e}})}function p(e){return Object(r.a)({url:l+"del-user",method:"post",data:e})}},"v/Sq":function(e,t,a){"use strict";t.a={methods:{backHandler:function(){this.customBackHandler?this.customBackHandler():this.$emit("option-changed")},submitHandler:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$refs[e].validate(function(e){if(!e)return!1;t.$confirm("确定要保存吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a?a():t.customSubmitHandler()}).catch(function(){t.$message({type:"info",message:"已取消操作"})})})},submitSuccessHandler:function(e){this.optionSuccessHandler(),this.customSubmitSuccessHandler?this.customSubmitSuccessHandler(e):this.backHandler()},optionSuccessHandler:function(){this.$message({type:"success",message:"操作成功"})}}}},v8RJ:function(e,t,a){},vgRt:function(e,t,a){"use strict";var r=a("bS4n"),l=a.n(r),n=a("8t5x"),o=a("Q2AE"),i=a("BtSF");t.a={data:function(){return{uploadAvatarHeaders:{Authorization:o.a.getters.token},uploadAvatar:i.q}},computed:l()({},Object(n.b)(["dictionaries"])),methods:{initForm:function(){return{id:null,token:null,state:"",index:"",loginName:"",name:"",nickName:"",avatar:"",idNumber:"",gender:"",birthday:"",phone:"",email:"",address:"",tag:"",remark:""}},initRules:function(){var e=this;return{state:[{required:!0,message:"请选择用户启用状态",trigger:"blur"}],index:[{required:!0,message:"请输入用户编号",trigger:"blur"}],loginName:[{required:!0,message:"请输入用户编号",trigger:"blur"},{validator:function(t,a,r){i.e({id:e.form.id,loginName:a}).then(function(e){0===e.exist?r():r(new Error("用户名已存在"))})},trigger:"change"}],password:[{required:!0,message:"请输入用户编号",trigger:"blur"}],name:[{required:!0,message:"请输入用户姓名",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"}],nickName:[{required:!0,message:"请输入用户编号",trigger:"blur"}],gender:[{required:!0,message:"请输入用户编号",trigger:"blur"}],email:[{required:!0,message:"请输入用户编号",trigger:"blur"}]}},queryAllUserDepts:function(e){var t=this;this.depts=[],e||(e=this.detail.id);var a={id:e};i.l(a).then(function(e){t.depts=e})},queryAllUserGroups:function(e){var t=this;this.groups=[],e||(e=this.detail.id);var a={id:e};i.m(a).then(function(e){t.groups=e})},queryAllUserRoles:function(e){var t=this;this.roles=[],e||(e=this.detail.id);var a={id:e};i.n(a).then(function(e){t.roles=e})},uploadAvatarSuccess:function(e,t,a){this.form.avatar=e.data},uploadAvatarError:function(e,t,a){this.form.avatar=""}}}}}]);