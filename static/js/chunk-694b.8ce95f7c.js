(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-694b"],{"/E00":function(e,t,i){},"2G0F":function(e,t,i){"use strict";var a=i("/E00");i.n(a).a},"5LPn":function(e,t,i){},BOqd:function(e,t,i){"use strict";i.r(t);var a=i("OLzz"),n=i.n(a),r=i("7Qib"),o=i("kWGr"),l=i("xViF"),s=i("Cnzv"),c={mixins:[o.a,s.a],data:function(){return{queryCriteria:this.initQueryCriteria(),selected:null,defaultProps:{children:"children",label:"name"},filter:""}},watch:{filter:function(e){this.$refs.tree.filter(e)}},activated:function(){this.selected=null,this.queryAllDictionaryType()},methods:{initQueryCriteria:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.b)(e,{flag:"",category:"3",parentId:"root",type:"",name:""})},executeQueryPage:function(){var e=this;l.f(this.createQueryParams()).then(function(t){e.queryResultHandler(t)})},customDelHandler:function(){var e=this;l.b(this.selected.id).then(function(){e.queryHandler()})},loadChildren:function(e,t){e.data.id&&l.d({filters:[{field:"category",value:3},{field:"parentId",value:e.data.id}],sorts:[]}).then(function(e){t(e)})},filterNodeHandler:function(e,t){if(!e)return!0;var i=-1!==t.name.indexOf(e);return!i&&this.selected&&this.selected.id===t.id&&(this.selected=null),i}}},u=(i("hvON"),i("ZrdR")),d=Object(u.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",[i("el-card",[i("el-col",{attrs:{span:20}},[i("el-form",{attrs:{model:e.queryCriteria,inline:!0}},[i("el-form-item",{attrs:{label:"启用状态:",prop:"flag"}},[i("el-select",{attrs:{clearable:"",placeholder:"全部"},model:{value:e.queryCriteria.flag,callback:function(t){e.$set(e.queryCriteria,"flag",t)},expression:"queryCriteria.flag"}},e._l(e.dictionaries.flag,function(e){return i("el-option",{key:e.key,attrs:{value:e.key,label:e.value}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"字典分类:",prop:"type"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"全部"},model:{value:e.queryCriteria.type,callback:function(t){e.$set(e.queryCriteria,"type",t)},expression:"queryCriteria.type"}},e._l(e.dictionaryTypeList,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"字典名称:",prop:"name"}},[i("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.queryCriteria.name,callback:function(t){e.$set(e.queryCriteria,"name",t)},expression:"queryCriteria.name"}})],1)],1)],1),e._v(" "),i("el-col",{staticClass:"query-btn",attrs:{span:4}},[i("el-button",{attrs:{round:"",type:"info"},on:{click:e.resetHandler}},[e._v("重置")]),e._v(" "),i("el-button",{attrs:{round:"",type:"primary"},on:{click:e.queryHandler}},[e._v("查询")])],1)],1),e._v(" "),i("el-col",{staticStyle:{margin:"10px 0px"},attrs:{span:24}},[i("button-right",[e._v("\n      字典列表\n      "),i("template",{slot:"button"},[i("el-button-group",[e.selected?i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("option-changed","check",e.selected)}}},[e._v("查看")]):e._e(),e._v(" "),e.selected?i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("option-changed","add",e.selected)}}},[e._v("新增下级")]):e._e(),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("option-changed","add")}}},[e._v("新增")]),e._v(" "),e.selected?i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("option-changed","edit",e.selected)}}},[e._v("编辑")]):e._e(),e._v(" "),e.selected?i("el-button",{attrs:{type:"primary"},on:{click:e.delHandler}},[e._v("删除")]):e._e()],1)],1)],2)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-card",[i("el-input",{attrs:{placeholder:"输入关键字对已加载的数据进行过滤"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-tree",{attrs:{data:[{}],props:e.defaultProps},scopedSlots:e._u([{key:"default",fn:function(t){return t.data,i("div",{staticClass:"custom-tree-node"},[i("div",{staticClass:"name"},[e._v("字典名称")]),e._v(" "),i("div",{staticClass:"state"},[e._v("状态")]),e._v(" "),i("div",{staticClass:"type"},[e._v("字典分类")])])}}])}),e._v(" "),i("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.pagination.list,load:e.loadChildren,props:e.defaultProps,"filter-node-method":e.filterNodeHandler,"highlight-current":"",accordion:"",lazy:""},on:{"current-change":function(t,i){return e.selected=t}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return i("div",{staticClass:"custom-tree-node"},[i("div",{staticClass:"name"},[e._v(e._s(a.name))]),e._v(" "),i("div",{staticClass:"state"},[i("state",{attrs:{state:a.state}})],1),e._v(" "),i("div",{staticClass:"type"},[e._v(e._s(e.getDictionaryTypeName(a.type)))])])}}])}),e._v(" "),i("pagination",{attrs:{pagination:e.pagination},on:{"page-size-changed":e.pageSizeChangeHandler,"page-changed":e.pageChangeHandler}})],1)],1)},[],!1,null,"29e36932",null);d.options.__file="multiQuery.vue";var f=d.exports,m=i("y4TE"),p=i("ChhY"),v=i("HqLc"),h={components:{query:f,edit:m.a,add:p.a,check:v.a},data:function(){return{optionType:"query",detail:{}}},methods:{optionChangeHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"query",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.a.start(),this.detail=t,this.optionType=e,n.a.done()}}},y=Object(u.a)(h,function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[t("keep-alive",[t(this.optionType,{tag:"component",attrs:{detail:this.detail,category:"3"},on:{"option-changed":this.optionChangeHandler}})],1)],1)},[],!1,null,null,null);y.options.__file="multiMain.vue";t.default=y.exports},ChhY:function(e,t,i){"use strict";var a=i("v/Sq"),n=i("7Qib"),r=i("xViF"),o=i("Cnzv"),l={mixins:[a.a,o.a],data:function(){return{form:this.initForm(),rules:this.initRules()}},computed:{categoryEditAble:function(){return!("3"===this.category&&"root"!==this.form.parentId)}},activated:function(){var e=this;Object(n.c)(this.form,this.initForm()),this.form.category=this.category,"3"===this.category&&(this.form.parentId=this.detail.id?this.detail.id:"root",this.form.type=this.detail.type),this.getParentDictionaryName(this.form.parentId),this.$nextTick(function(){e.$refs.form.clearValidate()}),this.queryAllDictionaryType()},methods:{customSubmitHandler:function(){r.a(this.form).then(this.submitSuccessHandler)}}},s=(i("2G0F"),i("ZrdR")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"200px"}},[e.parentDictionaryName?i("el-form-item",{attrs:{label:"上级字典"}},[i("el-input",{attrs:{value:e.parentDictionaryName,disabled:""}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"是否启用",prop:"state"}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})],1),e._v(" "),e.categoryEditAble?i("el-form-item",{attrs:{label:"字典分类",prop:"type"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请输入字典分类关键词进行搜索"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.dictionaryTypeList,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"字典名称",prop:"name"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字典规则码",prop:"code"}},[i("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字典编号",prop:"index"}},[i("el-input",{model:{value:e.form.index,callback:function(t){e.$set(e.form,"index",t)},expression:"form.index"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字典备注",prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitHandler("form")}}},[e._v("保存")]),e._v(" "),i("el-button",{on:{click:e.backHandler}},[e._v("取消")])],1)],1)},[],!1,null,"28bcc67f",null);c.options.__file="add.vue";t.a=c.exports},Cnzv:function(e,t,i){"use strict";var a=i("bS4n"),n=i.n(a),r=i("8t5x"),o=i("xViF");t.a={props:{category:{required:!0,type:String,default:function(){}},detail:{required:!1,type:Object,default:function(){}}},data:function(){return{parentDictionaryName:"",dictionaryTypeList:[]}},computed:n()({},Object(r.b)(["dictionaries"])),methods:{initForm:function(){return{id:null,token:null,parentId:null,state:1,category:2,type:"",name:"",code:"",index:"",remark:""}},initRules:function(){return{state:[{required:!0,message:"请选择字典启用状态",trigger:"blur"}],category:[{required:!0,message:"字典类别为必填项",trigger:"change"}],type:[{required:!0,message:"请选择字典类型",trigger:"change"}],name:[{required:!0,message:"请输入字典名称",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"}],index:[{required:!0,message:"请输入字典编号",trigger:"blur"}]}},queryAllDictionaryType:function(){var e=this;o.d({filters:[{field:"category",value:1}],sorts:[]}).then(function(t){e.dictionaryTypeList=t},function(){e.dictionaryTypeList=[]})},getDictionaryTypeName:function(e){var t=this.dictionaryTypeList.find(function(t){return t.id===e});return t?t.name:e},getParentDictionaryName:function(e){var t=this;this.parentDictionaryName="",e&&"root"!==e&&o.e(e).then(function(e){t.parentDictionaryName=e.name})}}}},HqLc:function(e,t,i){"use strict";var a={mixins:[i("Cnzv").a],data:function(){return{labelWidth:"200px"}},activated:function(){this.getParentDictionaryName(this.detail.parentId),this.queryAllDictionaryType()}},n=(i("hwk+"),i("ZrdR")),r=Object(n.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-button",{attrs:{icon:"el-icon-back",round:""},on:{click:function(t){e.$emit("option-changed")}}},[e._v("返回")]),e._v(" "),i("el-collapse",{attrs:{value:"base-info",accordion:""}},[i("el-collapse-item",{attrs:{title:"基本信息",name:"base-info"}},[i("el-form",{attrs:{model:e.detail,"label-width":e.labelWidth}},[i("input-item-view",{attrs:{label:"ID"}},[e._v(e._s(e.detail.id))]),e._v(" "),e.parentDictionaryName?i("input-item-view",{attrs:{label:"上级字典"}},[e._v(e._s(e.parentDictionaryName))]):e._e(),e._v(" "),i("input-item-view",{attrs:{label:"启用状态"}},[e._v(e._s(e._f("translateState")(e.detail.state)))]),e._v(" "),i("input-item-view",{attrs:{label:"字典类型"}},[e._v(e._s(e._f("translateDicCategory")(e.detail.category)))]),e._v(" "),i("input-item-view",{attrs:{label:"字典分类"}},[e._v(e._s(e.getDictionaryTypeName(e.detail.type)))]),e._v(" "),i("input-item-view",{attrs:{label:"字典名称"}},[e._v(e._s(e.detail.name))]),e._v(" "),i("input-item-view",{attrs:{label:"字典规则码"}},[e._v(e._s(e.detail.code))]),e._v(" "),i("input-item-view",{attrs:{label:"字典编号"}},[e._v(e._s(e.detail.index))]),e._v(" "),i("text-item-view",{attrs:{label:"字典备注"}},[e._v(e._s(e.detail.remark))])],1)],1),e._v(" "),i("el-collapse-item",{attrs:{title:"审计信息",name:"audit-info"}},[i("audit-info",{attrs:{detail:e.detail,"label-width":e.labelWidth}})],1)],1)],1)},[],!1,null,"61bc332b",null);r.options.__file="check.vue";t.a=r.exports},"QRo/":function(e,t,i){"use strict";var a=i("5LPn");i.n(a).a},fs2U:function(e,t,i){},hvON:function(e,t,i){"use strict";var a=i("zoz7");i.n(a).a},"hwk+":function(e,t,i){"use strict";var a=i("fs2U");i.n(a).a},kWGr:function(e,t,i){"use strict";var a=i("Q2cO"),n=i.n(a),r=i("EPZ6"),o=i.n(r),l=i("7Qib");t.a={data:function(){return{pagination:this.initPagination()}},activated:function(){this.executeQueryPage()},methods:{initPagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l.b)(e,{total:0,pageSize:10,page:1,list:[],filters:[],sorts:[]})},resetHandler:function(){this.initQueryCriteria(this.queryCriteria),this.initPagination(this.pagination),this.executeQueryPage()},queryHandler:function(){this.initPagination(this.pagination),this.executeQueryPage()},createQueryParams:function(){var e=this;return this.pagination.filters=[],o()(this.queryCriteria).forEach(function(t){var i=e.queryCriteria[t];i&&("object"===(void 0===i?"undefined":n()(i))?e.pagination.filters.push({field:t,value:Object(l.a)(i)}):e.pagination.filters.push({field:t,value:i}))}),{page:this.pagination.page,pageSize:this.pagination.pageSize,filters:this.pagination.filters,sorts:this.pagination.sorts}},queryResultHandler:function(e){return Object(l.b)(this.pagination,e)},pageSizeChangeHandler:function(e){this.pagination.pageSize=e,this.pagination.page=1,this.executeQueryPage()},pageChangeHandler:function(e){this.pagination.page=e,this.executeQueryPage()},sortChangeHandler:function(e){var t=e.column,i=e.prop,a=e.order;this.pagination.sorts=[],t&&this.pagination.sorts.push({field:i,value:"descending"===a?"desc":"asc"}),this.pagination.page=1,this.executeQueryPage()},delHandler:function(){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.customDelHandler?e.customDelHandler():e.$message({type:"info",message:"您未定义删除逻辑处理方法customDelHandler"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}}},"v/Sq":function(e,t,i){"use strict";t.a={methods:{backHandler:function(){this.customBackHandler?this.customBackHandler():this.$emit("option-changed")},submitHandler:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$refs[e].validate(function(e){if(!e)return!1;t.$confirm("确定要保存吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i?i():t.customSubmitHandler()}).catch(function(){t.$message({type:"info",message:"已取消操作"})})})},submitSuccessHandler:function(e){this.optionSuccessHandler(),this.customSubmitSuccessHandler?this.customSubmitSuccessHandler(e):this.backHandler()},optionSuccessHandler:function(){this.$message({type:"success",message:"操作成功"})}}}},xViF:function(e,t,i){"use strict";i.d(t,"f",function(){return r}),i.d(t,"d",function(){return o}),i.d(t,"e",function(){return l}),i.d(t,"a",function(){return s}),i.d(t,"c",function(){return c}),i.d(t,"b",function(){return u});var a=i("t3Un"),n="/system/dictionary/";function r(e){return Object(a.a)({url:n+"query-page",method:"post",data:e})}function o(e){return Object(a.a)({url:n+"query-all",method:"post",data:e})}function l(e){return Object(a.a)({url:n+"query-by-id",method:"get",params:{id:e}})}function s(e){return Object(a.a)({url:n+"add",method:"post",data:e})}function c(e){return Object(a.a)({url:n+"edit",method:"post",data:e})}function u(e){return Object(a.a)({url:n+"del",method:"get",params:{id:e}})}},y4TE:function(e,t,i){"use strict";var a=i("v/Sq"),n=i("7Qib"),r=i("xViF"),o=i("Cnzv"),l={mixins:[a.a,o.a],data:function(){var e=this.initForm(),t=this.initRules();return delete e.category,delete t.category,delete e.parentId,delete t.parentId,delete e.type,delete t.type,t.id=[{required:!0,message:"编辑信息时ID不能为空",trigger:"change"}],{form:e,rules:t}},activated:function(){var e=this;r.e(this.detail.id).then(function(t){Object(n.c)(e.form,t),e.getParentDictionaryName(e.form.parentId),e.$nextTick(function(){e.$refs.form.clearValidate()})}),this.queryAllDictionaryType()},methods:{customSubmitHandler:function(){r.c(this.form).then(this.submitSuccessHandler)}}},s=(i("QRo/"),i("ZrdR")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"200px"}},[i("el-form-item",{attrs:{label:"ID",prop:"id"}},[i("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),e.parentDictionaryName?i("el-form-item",{attrs:{label:"上级字典"}},[i("el-input",{attrs:{value:e.parentDictionaryName,disabled:""}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"是否启用",prop:"state"}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字典名称",prop:"name"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字典规则码",prop:"code"}},[i("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字典编号",prop:"index"}},[i("el-input",{model:{value:e.form.index,callback:function(t){e.$set(e.form,"index",t)},expression:"form.index"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字典备注",prop:"remark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitHandler("form")}}},[e._v("保存")]),e._v(" "),i("el-button",{on:{click:e.backHandler}},[e._v("取消")])],1)],1)},[],!1,null,"b152073e",null);c.options.__file="edit.vue";t.a=c.exports},zoz7:function(e,t,i){}}]);