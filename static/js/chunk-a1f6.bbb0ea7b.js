(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a1f6"],{UxPE:function(t,e,a){},c11S:function(t,e,a){"use strict";var n=a("fN6i");a.n(n).a},cQDL:function(t,e){t.exports=function(t,e){var a,n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(e=e||r.length,t)for(a=0;a<t;a++)o[a]=r[0|Math.random()*e];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",a=0;a<36;a++)o[a]||(n=0|16*Math.random(),o[a]=r[19==a?3&n|8:n]);return o.join("")}},fN6i:function(t,e,a){},ntYl:function(t,e,a){"use strict";a.r(e);var n=a("cQDL"),r=a.n(n),o=a("fe1z"),s={name:"Login",data:function(){var t=this,e=function(e,a,n){""+t.remoteError=="3"&&"password"===e.field?n(new Error):""+t.remoteError=="2"&&"captcha"===e.field?n(new Error):n()};return{loginForm:{username:"admin",password:"admin",captcha:null},loginRules:{username:[{required:!0,trigger:"change",message:"请填写用户名"}],password:[{required:!0,trigger:"change",message:"请填写密码"},{validator:function(t,e,a){e&&e.length<5?a(new Error):a()},trigger:"change",message:"请输入密码（至少5位）"},{validator:e,trigger:"change",message:"用户名或密码错误"}],captcha:[{required:!0,trigger:"change",message:"请填写验证码"},{validator:e,trigger:"change",message:"验证码错误"}]},remoteError:null,captchaBase64:null,passwordType:"password",loading:!1,redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},mounted:function(){this.getCaptcha()},methods:{showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},getCaptcha:function(){var t=this;this.uuid=r()(32),o.a().then(function(e){t.captchaBase64=e})},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return!1;t.loading=!0,o.d(t.loginForm).then(function(e){1===e.result?(t.$store.dispatch("LoginByUsername",e.token),t.$router.push({path:t.redirect||"/"})):2===e.result?(t.remoteError=e.result,t.getCaptcha(),t.$refs.loginForm.validateField("captcha",function(){t.remoteError=null})):3===e.result&&(t.remoteError=e.result,t.getCaptcha(),t.$refs.loginForm.validateField("password",function(){t.remoteError=null})),t.loading=!1}).catch(function(){t.loading=!1})})}}},i=(a("c11S"),a("qQxt"),a("ZrdR")),c=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[t._v("UMI-SOFT")])]),t._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),a("el-input",{attrs:{placeholder:"请填写用户名",name:"username",type:"text","auto-complete":"on"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),a("el-input",{attrs:{type:t.passwordType,placeholder:"请填写密码",name:"password","auto-complete":"on"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleLogin(e):null}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),t._v(" "),a("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[a("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"captcha"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"captcha"}})],1),t._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请填写验证码",name:"captcha","auto-complete":"on"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleLogin(e):null}},model:{value:t.loginForm.captcha,callback:function(e){t.$set(t.loginForm,"captcha",e)},expression:"loginForm.captcha"}}),t._v(" "),a("span",{staticClass:"captcha"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.captchaBase64},on:{click:t.getCaptcha}})])],1),t._v(" "),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("登陆")])],1)],1)},[],!1,null,"23b1ca9c",null);c.options.__file="index.vue";e.default=c.exports},qQxt:function(t,e,a){"use strict";var n=a("UxPE");a.n(n).a}}]);